! function(m) {
    m(document).ready(function() {
        particlesJS.load("particles", "js/particles.json", function() {}), soundStatus = !0, volume = 1;
        var o = [];
        m.each(soundsFiles, function(t, e) {
            o[t] = {
                name: e
            }
        }), ion.sound({
            sounds: o,
            volume: 1,
            path: "audio/",
            preload: !1
        }), ion.sound.preload("bg"), m("#volume").on("click", function(t) {
            volStatus = m(this).attr("data-audio"), "true" === volStatus ? (soundStatus = !1, m(this).attr("data-audio", "false").addClass("btn--sound--off"), volume = 0, ion.sound.pause("bg")) : (soundStatus = !0, m(this).attr("data-audio", "true").removeClass("btn--sound--off"), volume = 1, ion.sound.play("bg", {
                loop: 10,
                volume: volume / 2
            })), t.preventDefault()
        });
        var s = "",
            i = document.getElementById("videoSource"),
            a = document.getElementById("videoElement"),
            d = window.innerWidth,
            u = window.innerHeight,
            r = d / u,
            l = !0,
            p = "";
        1 <= r && (l = !1), 1 == l ? (s = "video/bg-portrait.mp4", r <= .5625 ? (m("#videoElement").css("height", u + "px"), p = "height") : (m("#videoElement").css("width", d + "px"), p = "width")) : (s = "//sexsimulators.com/assets/video/bg-landscape.mp4", r <= 1280 / 720 ? (m("#videoElement").css("height", u + "px"), p = "height") : (m("#videoElement").css("width", d + "px"), p = "width")), i.setAttribute("src", s), a.load();
        try {
            a.play()
        } catch (t) {
            console.error(t)
        }
        setInterval(function() {
            var t = window.innerWidth,
                e = window.innerHeight,
                o = t / e,
                n = !0;
            1 <= o && (n = !1), n != l && (m("#videoElement").css("width", ""), m("#videoElement").css("height", ""), "width" == p ? (m("#videoElement").css("height", e + "px"), p = "height") : (m("#videoElement").css("width", t + "px"), p = "width"), s = 1 == n ? "//sexsimulators.com/assets/video/bg-portrait.mp4" : "//sexsimulators.com/assets/video/bg-landscape.mp4", i.setAttribute("src", s), a.load(), a.play(), u = e, d = t, r = o, l = n)
        }, 500), m("body").one("click", function(t) {
            1 == soundStatus && ion.sound.play("bg", {
                loop: 10,
                volume: volume / 2
            });
            try {
                a.play()
            } catch (t) {
                console.error(t)
            }
        });
        var c = m("body"),
            t = m(".step"),
            e = function(t, e) {
                var o = m(t).closest(".step"),
                    n = o.next(".step");
                if (n.length) {
                    if (o.addClass("step--done").fadeOut(400, function() {
                            n.addClass("step--active"), c.toggleClass("bg-blur", n.hasClass("step--blur-bg")), n.hasClass("step--auto") && g(n, e), n.hasClass("step--final") && h(n)
                        }), "undefined" != typeof nextAudio && ion.sound.stop(nextAudio), nextAudio = n.data("audio"), nextAudio && soundStatus) {
                        if (m.inArray(nextAudio, soundsFiles) < 0) {
                            var s = n.data("audio-default");
                            s.length && (nextAudio = s)
                        }
                        try {
                            ion.sound.play(nextAudio, {
                                volume: volume
                            })
                        } catch (t) {
                            console.error(t)
                        }
                    }
                    e.preventDefault()
                }
            },
            n = function() {
                99 < stepLoadingProgressCurrent ? (window.clearInterval(stepLoadingInterval), stepLoadingProgressCurrent = 100, setTimeout(v, 800)) : stepLoadingProgressCurrent += stepUpdateIntervalAmount, stepLoadingProgress.css("width", stepLoadingProgressCurrent + "%")
            },
            v = function() {
                e(stepAutoNext, stepAutoEvent)
            },
            g = function(t, e) {
                stepAutoNext = t, stepAutoEvent = e, stepLoading = stepAutoNext.find(".step__loading"), stepLoadingProgress = stepLoading.find("span"), stepLoadingProgressCurrent = 0, stepNextTimeout = stepAutoNext.data("timeout") ? stepAutoNext.data("timeout") : 4e3, stepUpdateInterval = 200, stepUpdateIntervalAmount = 100 / (stepNextTimeout / stepUpdateInterval), stepLoadingInterval = window.setInterval(n, stepUpdateInterval)
            },
            h = function(t) {
                m("body").addClass("steps-done")
            };
        t.on("click", ".btn--step", function(t) {
            e(this, t)
        })
    })
}(jQuery);